name: Playwright

on:
push:
branches: [ main, master ]
pull_request:
branches: [ main, master ]

jobs:
test:
runs-on: ubuntu-latest
steps:
- uses: actions/checkout@v4
- uses: actions/setup-node@v4
with:
node-version: 20
- run: npm ci
- run: npx playwright install --with-deps
- run: npm test
- name: Upload HTML report
if: always()
uses: actions/upload-artifact@v4
with:
name: html-report
path: artifacts/html-report